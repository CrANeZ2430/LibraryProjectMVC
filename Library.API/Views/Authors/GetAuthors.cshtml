@using Library.API.ViewModels.Authors
@model IEnumerable<AuthorViewModel>

@{
    ViewData["Title"] = "Authors";

    var anonymousImageUrl = "https://ui-avatars.com/api/?name=Anonymous&background=0D8ABC&color=fff&size=140";
}

<h1 class="mb-4 text-dark">Authors</h1>

<div class="list-group list-group-flush">
    @foreach (var author in Model)
    {
        var imgUrl = string.IsNullOrWhiteSpace(author.ImageUrl) ? anonymousImageUrl : author.ImageUrl;
        <div class="list-group-item author-item d-flex align-items-start p-3 mb-3 rounded-3 shadow-sm">
            <a asp-controller="Authors" asp-action="GetAuthorDetail" asp-route-id="@author.Id">
                <img src="@imgUrl"
                     class="author-img rounded-3 me-3 flex-shrink-0"/>
            </a>

            <div class="author-info flex-grow-1 text-dark">
                <h5 class="mb-1 fw-bold">
                    @author.FirstName
                    @(string.IsNullOrWhiteSpace(author.MiddleName) ? "" : author.MiddleName + " ")
                    @author.LastName
                </h5>
                <p class="mb-1 author-bio" style="max-width: 600px; word-wrap: break-word; white-space: normal;">
                    @author.Biography
                </p>
            </div>
        </div>
    }
</div>




